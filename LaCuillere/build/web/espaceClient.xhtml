<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <ui:include src="head.xhtml"/>
    
    
<h:body class="home">
    <div class="site-wrapper animsition" data-animsition-in="fade-in" data-animsition-out="fade-out">
        <ui:include src="header.xhtml" />

<br/><br/>
<div class="container">
    <div class="check-sec">	 
        
        <div class="col-md-3 cart-total">
            
            <a class="continue"> Mon profil</a>
            <div class="price-details">
                <h:form>
                <p:column><h3><p:commandLink value="Mes reservation" actionListener="#{userManagedBean.showMyReservations()}" /></h3></p:column>
                <p:column><h3><p:commandLink value="Mes informations"    actionListener="#{userManagedBean.mesInformations()}" /></h3></p:column>
                <p:column rendered="#{userManagedBean.user.profil}"><h3><p:commandLink value="Mes restaurants" actionListener="#{userManagedBean.showMyRestaurants()}"/></h3></p:column>
                <p:column rendered="#{userManagedBean.user.profil}"><h3><p:commandLink value="Ajouter un restaurant" actionListener="#{userManagedBean.ajoutRestaurant()}"/></h3></p:column>
                
                
                </h:form>
            </div>	
            <a class="order" href="#">Se deconnecter</a>
        </div>
        <div class="col-md-9 cart-items">
            <h:form id="form">
               <p:dataGrid rendered="#{userManagedBean.restaurantEnable}" var="restaurant" value="#{userManagedBean.getMyRestaurants()}" style="background: none !important; color: #f30 !important;
    background: none !important;
    background-image: none !important;" columns="1"  
        rows="12" paginator="true" id="restaurant"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="5,10,25,50">
 
                                   <f:facet name="header" >
            Mes restaurants :
        </f:facet> 
 
                       
            
             <div class="bg-gray restaurant-entry">
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-8 text-xs-center text-sm-left">
                                        <div class="entry-logo">
                                            <p:graphicImage  value="#{listeRestaurantManagedBean.image}">
                                                <f:param name="idRestaurant" value="#{restaurant.idRestaurant}" />
                                                </p:graphicImage>
                                        </div>
                                        <!-- end:Logo -->
                                        <div class="entry-dscr">
                                            <h5><a href="#"><h:outputText value="#{restaurant.nom}" /></a></h5>
                                            
                                                
                                                <h5><a href="#"><h:outputText value="#{restaurant.categorie.nom.toLowerCase()}" /></a></h5> 
                                            
                                            <span><a href="#"><h:outputText value="#{restaurant.adresse}" /></a></span>
                                              
                                            <ul class="list-inline">
                                                <li class="list-inline-item"><i class="fa fa-check"></i> Prix moyen <h:outputText value="#{restaurant.prixMoyen}" /> euros</li>
                                            </ul>
                                          
                                        </div>
                                        <!-- end:Entry description -->
                                    </div>
                                    <div class="col-sm-12 col-md-12 col-lg-4 text-xs-center">
                                        <div class="right-content bg-white">
                                            <div class="right-review">
                                                <div class="rating-block"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-o"></i> </div>
                                                <p> 150 Avis</p><p:commandButton style="background: none;color:#f30;" styleClass="btn theme-btn-dash" action="#{menuManagedBean.listMenu(restaurant.idRestaurant,restaurant.capacite)}" value="Voir liste Menus"/><br/>
                                                <p:commandButton style="background: none;color:#f30;" styleClass="btn theme-btn-dash" action="#{menuManagedBean.ajouterMenu(restaurant.idRestaurant,restaurant.capacite)}" value="Ajouter un Menu"/>
                                            </div>
                                        </div>
                                        <!-- end:right info -->
                                    </div>
                                </div>
                                <!--end:row -->
                            </div>
          
 
    </p:dataGrid>
</h:form>
           
            <h:form id="form2">
                <p:dataGrid rendered="#{userManagedBean.reservationEnable}" var="reservation" value="#{userManagedBean.myReservations}" style="background: none !important; color: #f30 !important;
    background: none !important;
    background-image: none !important;" columns="1"  
        rows="12" paginator="true" id="reservation"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="5,10,25,50">
 
                                   <f:facet name="header" >
            Mes reservations :
        </f:facet> 
 
                       
            
             <div class="bg-gray restaurant-entry">
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-8 text-xs-center text-sm-left">
                                        <div class="entry-logo">
                                            <p:graphicImage  value="#{listeRestaurantManagedBean.image}">
                                                <f:param name="idRestaurant" value="#{reservation.annonce.restaurant.idRestaurant}" />
                                                </p:graphicImage>
                                        </div>
                                        <!-- end:Logo -->
                                        <div class="entry-dscr">
                                            <h5><a href="#"><h:outputText value="#{reservation.annonce.restaurant.nom}" /></a></h5>
                                            
                                                
                                                <h5><a href="#"><h:outputText value="#{reservation.annonce.restaurant.categorie.nom.toLowerCase()}" /></a></h5> 
                                            
                                            <span><a href="#"><h:outputText value="#{reservation.annonce.restaurant.adresse}" /></a></span>
                                            
                                          
                                        </div>
                                        <!-- end:Entry description -->
                                    </div>
                                    <div class="col-sm-12 col-md-12 col-lg-4 text-xs-center">
                                        <div class="right-content bg-white">
                                            <div class="right-review">
                                                <h5><a href="#"><h:outputText value="Reservation confirmée pour " /></a></h5><br/>
                                                <h5><a href="#"><h:outputText value="Le #{reservation.plage.date}" /></a></h5><br/>
                                                <h5><a href="#"><h:outputText value=" à #{reservation.plage.timeDebut}" /></a></h5><br/>
                                                <h5><a href="#"><h:outputText value="Pour #{reservation.nbPersonne} Personnes" /></a></h5><br/>  
                                                <p:commandButton style="background: none;color:#f30;" styleClass="btn theme-btn-dash" action="#{userManagedBean.deleteReservation(reservation) }" value="Supprimer"/>
                                            </div>
                                        </div>
                                        <!-- end:right info -->
                                    </div>
                                </div>
                                <!--end:row -->
                            </div>
          
 
    </p:dataGrid>
</h:form>
          
        </div>
        <div class="clearfix"> </div>
    </div>
           </div> 
</div> 
    <ui:include src="footer.xhtml"/>

    
    
</h:body>
</html>